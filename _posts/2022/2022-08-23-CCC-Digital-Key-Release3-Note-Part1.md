---
layout: post
title: CCC 数字钥匙Release 3学习笔记 Part1
time: 2022年8月23日
author: Zhao Yang(cnrgc@163.com)
location: 北京
pulished: true
category: cryptography
tags: [cryptography]
excerpt_separator:  <!--more-->
---

## 0 前言

2022年8年开始离开了从事14年的密码行业，去了汽车行业，当然在全新的行业里，还是去做密码相关的东西。最近开始学习目前CCC正在推广的的数字钥匙规范。

## 1 介绍

CCC数字钥匙技术规范(Digital Key Technical Specification)Release 3详细描述了一个数字钥匙生态系统，这个数字钥匙生态系统使用标准化数字钥匙applet、标准化车辆访问协议(vehicle access protocol)和一个可扩展的架构来支持不同车辆OEM和设备OEM进行数字钥匙服务的大规模开发。

Release 3是向前兼容Release 2的，但是Release 3不支持Release 1。Release 1可以独立与Release2和3部署。

数字钥匙技术规范Release 3基于BLE/UWB 或者NFC作为低层的无线通信技术来启用数字钥匙服务。数字钥匙服务管理框架被设计为和无线通信技术无关的，使得框架可以支持其他技术。

## 2 系统架构

### 2.1 概述

建议系统使用非对称密码体系来进行车辆和设备的互相认证。

设备只向已知的车辆暴露他的身份。

公钥在设备和车辆配对时互相交换，车主可以通过对朋友和家庭成员的公钥进行签名来完成对他们的授权。

系统设计为完全离线（车辆或者设备都不和服务器链接，相当于金融支付叫双离线）在所有相关的功能在执行时，比如车主使用数字钥匙配对或者开锁和上锁。监管和业务要求必须连线的场景，这些会被加入到系统中。

### 2.2 高层功能

本系统符合以下高层要求

- 安全性和隐私性相当于或者强于机械钥匙

- 车主设备和车辆配对

- 车主和朋友之间共享钥匙

- 设备和车辆OEM之间的互操作性

- 在一个设备上支持来自不同汽车厂家的多个数字钥匙

- 车辆OEM能够控制数字钥匙的发放机器策略

- 针对主动/被动窃听者的隐私保护

### 2.3 高层架构

数字钥匙生态系统由多个参与者组成，他们使用标准和私有链接互相连接，如图2-1所示。标准化的连接在这个规范中被指定，可以支持实现和互操作性。每个实体的角色和职责在2.4和2.5节中描述。

超出本规范的范围的实体和私有连接在图2-1中为虚线的部分。

![img](/assets/blog_image/2022/20220823001-figure-2-1.png)
